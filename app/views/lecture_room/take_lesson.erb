<div class="container fixed-container">
  <div class="row">
    <%= render partial: '/teachers/curriculum_modal' %>
    <!-- left box -->
    <div class="col-md-7 col-sm-12">
      <div class="row" style="display: table; width: 600px; height: 50px">
        <div class="col-xs-4" style="display: table-cell;">
          <h3 style="display: table-cell">커리큘럼</h3>
        </div>
        <div class="col-xs-3" style="display: table-cell; vertical-align: baseline;">
          <button type="button" class="btn btn-primary col-md-12" data-toggle="modal" data-target="#curriculumModal">
            커리큘럼 선택
          </button>
        </div>
        <div class="col-xs-5" style="display: table-cell;">
          <a href="#" class="btn btn-sm btn-primary"><span>신고하기</span></a>
          <a href="#" class="btn btn-sm btn-primary"><span>강의 종료</span></a>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <textarea id="curri_text" rows="16" cols="80" disabled></textarea>
          <h3>메모</h3>
          <textarea id="memo_text" rows="8" cols="80"></textarea>
        </div>
        <div class="col-md-12">
          <button id="memo_save_btn" type="button" class="btn btn-primary" disabled>저장</button>
        </div>
      </div>
    </div>
    <!-- left box -->
    <!-- right box -->
    <div class="col-md-5 hidden-md hidden-sm hidden-xs" style="display: table; height:545px; border:1px solid #D8D8D8;">
      <h4 style="display: table-cell; text-align: center; vertical-align: middle;">랭디 페이지를 왼쪽에, 스카이프를 오른쪽에 두고 학습하시면 됩니다.</h4>
    </div>
    <!-- right box -->
  </div>
</div>
<script src="/assets/bootstrap-treeview.js"></script>
<script src="/assets/myLecture_room.js"></script>
<script tpye="text/javascript">
  function loadCourses() {
    $.post("/get_courses",
    {
        lang: "'ko'",
        mi_selectable: false, //미수강 선택가능 여부
        ye_selectable: true, //수강예정 선택가능 여부
        wa_selectable: false, //수강 완료 선택가능 여부
    },
    function(data, status, xhr) {
        loadCoursesCallback(data);
    });
  }

  function loadCoursesCallback(treeData) {
    $('#tree').treeview({
      data: treeData,
      showTags: true
    });
  }

  loadCourses();

  var course_id = 0;
  $(document).ready(function(){
    $('#curri_btn').click(function(){
      course_id = showSelectCourse();
    });
    $('#memo_save_btn').click(function(){
      saveMemo(<%= current_user.id %>, course_id, $('#memo_text').val());
    });
  });

</script>
